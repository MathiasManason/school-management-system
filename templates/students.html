{% extends 'base.html' %}

{% block content %}
<div class="students-container">
  <h2>ğŸ“ Student Management</h2>

  <!-- Add New Student Form -->
  <div class="form-card">
    <h3>Add New Student</h3>
    <form method="POST" class="student-form">
      <div class="form-group">
        <label>Name:</label>
        <input type="text" name="name" placeholder="Enter full name" required>
      </div>
      <div class="form-group">
        <label>Age:</label>
        <input type="number" name="age" placeholder="Enter age" required>
      </div>
      <div class="form-group">
        <label>Grade:</label>
        <select name="grade" required>
          <option value="">Select Grade</option>
          <option value="A">A</option>
          <option value="B">B</option>
          <option value="C">C</option>
          <option value="D">D</option>
          <option value="F">F</option>
        </select>
      </div>
      <button type="submit" class="btn">Add Student</button>
    </form>
  </div>

  <!-- Student List Table -->
  <div class="table-card">
    <h3>Student List</h3>
    {% if students %}
    <table class="student-table">
      <thead>
        <tr>
          <th>#</th>
          <th>Name</th>
          <th>Age</th>
          <th>Grade</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for student in students %}
        <tr>
          <td>{{ loop.index }}</td>
          <td>{{ student.name }}</td>
          <td>{{ student.age }}</td>
          <td>{{ student.grade }}</td>
          <td>
            <a href="{{ url_for('edit_student', index=loop.index0) }}" class="btn-edit">Edit</a>
            <a href="{{ url_for('delete_student', index=loop.index0) }}" class="btn-delete" onclick="return confirm('Are you sure you want to delete this student?')">Delete</a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    {% else %}
    <p class="no-data">No students found.</p>
    {% endif %}
  </div>
</div>
{% endblock %}
